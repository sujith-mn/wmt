<div class="container">
  <div class="border" >
      
        <button class="btn btn-md btn-outline-primary" (click)="open(content)"> 
        <i class="fa fa-user"></i>
        <mat-icon>note_add</mat-icon> New </button>
     
     <div class="search">
    <mat-form-field >
      <!-- <mat-label>Search</mat-label> -->
      
      <input matInput  (keyup)="applyFilter($event)" placeholder="Search" #input>
    </mat-form-field>
    </div>
  </div>
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
      </ng-container>

      <!-- Customer Manager Column -->
      <ng-container matColumnDef="manager">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Customer manager</th>
        <td mat-cell *matCellDef="let row"> {{row.manager}} </td>
      </ng-container>

      <!-- Start Date Column -->
      <ng-container matColumnDef="created">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Start Date </th>
        <td mat-cell *matCellDef="let row"> {{row.created}} </td>
      </ng-container>

      <!-- End Date Column -->
      <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>End Date</th>
        <td mat-cell *matCellDef="let row"> {{row.endDate}} </td>
      </ng-container>

      <!-- Ageing Column -->
      <ng-container matColumnDef="ageing">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Ageing </th>
        <td mat-cell *matCellDef="let row"> {{row.ageing}} </td>
      </ng-container>

      <!-- Priority Column -->
      <ng-container matColumnDef="priority">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Priority </th>
        <td mat-cell *matCellDef="let row"> {{row.priority}} </td>
      </ng-container>

      <!-- skill Column -->
      <ng-container matColumnDef="skill">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>skill </th>
        <td mat-cell *matCellDef="let row"> {{row.skill}} </td>
      </ng-container>
      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status </th>
        <td mat-cell *matCellDef="let row"> {{row.status}} </td>
      </ng-container>
      <!-- Action Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef >actions</th>
        <!-- <td mat-cell *matCellDef="let row"> {{row.actions}} </td>  -->
        <td mat-cell *matCellDef="let myRowData">
          
          <button mat-button (click)="openDetails(contentDetails, myRowData)"> <mat-icon>remove_red_eye</mat-icon></button>
          <button mat-button (click)="openEdit(contentEdit, myRowData)">
            <mat-icon>edit</mat-icon>
            <!-- <mat-icon>edit</mat-icon>  -->
          </button>
          <button mat-button (click)="openDelete(contentDelete, myRowData)">
            <mat-icon>delete</mat-icon>
          </button>
        </td >
      </ng-container>
      
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
  
    

  </div>
    </div>

<!-- New Demand start -->
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">New Demand</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)" novalidate>
      <!-- <div class="form-group">
        <label for="demandId">Demand Id</label>
        <div class="input-group">
          <input type="text" name="demandId" id="demandId" class="form-control" ngModel required #demandId="ngModel">
        </div>
      </div> -->

      <div class="form-group">
          <label for="manager">Customer Manager</label>
          <div class="input-group">
            <input type="text" name="manager" id="manager" class="form-control" ngModel required #manager="ngModel">
          </div>
      </div>

      <!-- <div class="form-group">
          <label for="created">Created On</label>
          <div class="input-group">
            <input type="text" name="created" id="created" class="form-control" ngModel required #createdOn="ngModel">
          </div>
      </div> -->
      
      <div class="form-group">
        <label for="created">Start Date</label>
        <div class="input-group">
          <input type="date" name="created" id="created" class="form-control" ngModel required #createdOn="ngModel" placeholder="yyyy-MM-dd" 
          min="2000-01-01" 
          max="2023-12-31" required />
        </div>
    </div>
    
    <div class="form-group">
      <label for="endDate">End Date</label>
      <div class="input-group">
        <input type="date" name="endDate" id="endDate" class="form-control" ngModel required #endDate="ngModel" placeholder="yyyy-MM-dd" 
        min="2000-01-01" 
        max="2023-12-31" required />
      </div>
  </div>
      <div class="form-group">
          <label for="ageing">Ageing</label>
          <div class="input-group">
            <input type="text" name="ageing" id="ageing" class="form-control" ngModel required #ageing="ngModel">
          </div>
      </div>

      <!-- <div class="form-group">
          <label for="priority">Priority</label>
          <div class="input-group">
            <input type="text" name="priority" id="priority" class="form-control" ngModel required #priority="ngModel">
          </div>
      </div> -->

      <div class="form-group">
        <label for="priority">Priority</label>
        <div class="input-group">
          <select name="priority" id="priority" class="form-control" ngModel required #priority="ngModel">
            <option value="">--Select--</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            </select>
          <!-- <input type="text" name="priority" id="priority" class="form-control" ngModel required #priority="ngModel"> -->
        </div>
    </div>

      
      <!-- <div class="form-group">
          <label for="skill">Skill</label>
          <div class="input-group">
            <input type="text" name="skill" id="skill" class="form-control" ngModel required #skill="ngModel">
          </div>
      </div> -->
      <div class="form-group">
        <label for="skill">Skill</label>
        <div class="input-group">
          <select name="skill" id="skill" class="form-control" ngModel required #skill="ngModel">
            <option value="">--Select--</option>
            <option value="Java">Java</option>
            <option value="React">React</option>
            <option value="Angular">Angular</option>
            <option value="Spring framework">Spring framework</option>
            <option value="Python">Python</option>
            </select>
          <!-- <input type="text" name="skill" id="skill" class="form-control" ngModel required #skill="ngModel"> -->
        </div>
    </div>
      
      <!-- <div class="form-group">
          <label for="status">Status</label>
          <div class="input-group">
            <input type="text" name="status" id="status" class="form-control" ngModel required #status="ngModel">
          </div>
      </div> -->

      <div class="form-group">
        <label for="status">Status</label>
        <div class="input-group">
          <select name="status" id="status" class="form-control" ngModel required #status="ngModel">
            <option value="">--Select--</option>
            <option value="open">open</option>
            <option value="complete">complete</option>
            <option value="pending">pending</option>
            <option value="in-process">in-process</option>
            
            </select>
          <!-- <input type="text" name="status" id="status" class="form-control" ngModel required #status="ngModel"> -->
        </div>
    </div>
      <div class="border text-center">
          <button data-dismiss="modal" class="btn btn-info">Submit</button>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Close</button>
  </div>
</ng-template>
<!-- New Demand End -->

    <!-- Detail Demand Start-->
  <ng-template #contentDetails let-modal >
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title"> Demand</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <!-- <div class="form-group">
          <label for="demandId">Demand Id</label>
          <div class="input-group">
            <input id="demandId_Detail" class="form-control" readonly>
          </div>
        </div> -->

        <div class="form-group">
            <label>Customer Manager</label>
            <div class="input-group">
              <input  id="manager_Detail" class="form-control" readonly>
            </div>
        </div>

        <div class="form-group">
            <label>Start Date</label>
            <div class="input-group">
              <input  id="created_Detail" class="form-control" readonly>
            </div>
        </div>
        <!-- new start -->

        <div class="form-group">
          <label>End Date</label>
          <div class="input-group">
            <input  id="end_date_Detail" class="form-control" readonly>
          </div>
      </div>
        <!-- new end -->
        <div class="form-group">
            <label>Ageing</label>
            <div class="input-group">
              <input  id="ageing_Detail" class="form-control" readonly>
            </div>
        </div>

        <div class="form-group">
            <label>Priority</label>
            <div class="input-group">
              <input id="priority_Detail" class="form-control" readonly>
            </div>
        </div>

        
        <div class="form-group">
            <label>Skill</label>
            <div class="input-group">
              <input id="skill_Detail" class="form-control" readonly>
            </div>
        </div>

        <div class="form-group">
            <label>Status</label>
            <div class="input-group">
              <input  id="status_Detail" class="form-control" readonly>
            </div>
        </div>
        
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Close</button>
    </div>
  </ng-template>
  <!-- Detail Demand End -->

  <!-- Edit Demand Start -->
  <ng-template #contentEdit let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Edit Demand</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="editForm" novalidate>
        <!-- <div class="form-group">
          <label for="demandId">Demand Id</label>
          <div class="input-group">
            <input  formControlName="demandId"  class="form-control" >
          </div>
        </div> -->

        <div class="form-group">
            <label for="manager">Customer Manager</label>
            <div class="input-group">
              <input formControlName="manager"  class="form-control" >
            </div>
        </div>

        <div class="form-group">
            <label for="created">Start Date</label>
            <div class="input-group">
              <input formControlName="created"  class="form-control" >
            </div>
        </div>

        <div class="form-group">
          <label for="end_date">End Date</label>
          <div class="input-group">
            <input formControlName="end_date" class="form-control" >
          </div>
      </div>
        
        <div class="form-group">
            <label for="ageing">Ageing</label>
            <div class="input-group">
              <input  formControlName="ageing"  class="form-control" >
            </div>
        </div>

        <div class="form-group">
            <label for="priority">Priority</label>
            <div class="input-group">
              <input  formControlName="priority"  class="form-control" >
            </div>
        </div>

        
        <div class="form-group">
            <label for="skill">Skill</label>
            <div class="input-group">
              <input  formControlName="skill"  class="form-control" >
            </div>
        </div>

        <div class="form-group">
            <label for="status">Status</label>
            <div class="input-group">
              <input  formControlName="status" class="form-control" >
            </div>
        </div>
        <div class="border text-center">
            <button data-dismiss="modal" class="btn btn-info" (click)="onSave()">Save</button>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Close</button>
    </div>
  </ng-template>
  <!-- Edit Demand End -->

   <!-- Delete Demand Start -->
   <ng-template #contentDelete let-modal>
    <div class="modal-header">
      <h4 class="modal-title">Confirm Delete</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <h2>Are you sure you want to delete this record.</h2>
      <div class="border text-center"> 
        <button data-dismiss="modal" class="btn btn-danger" (click)="onDelete()">Yes, Delete!</button> 
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Cancel</button>
    </div>
  </ng-template>
  <!-- Delete Demand End -->



